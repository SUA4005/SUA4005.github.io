<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Full Timers</title>

<style>
    html, body {
        width: 100%;
        height: 100%;
        margin: 0;
        font-family: Arial, Helvetica, sans-serif;
        background-color: #0E1746;
    }

    .frame {
        position: absolute;
        top: 30px;
        left: 30px;
        right: 30px;
        bottom: 30px;
        border: 12px solid white;
        display: flex;
        align-items: center;
        justify-content: center;
        box-sizing: border-box;
    }

    .content {
        text-align: center;
        color: white;
        font-weight: bold;
    }

    .label {
        font-size: 4vw;
        margin-bottom: 25px;
    }

    .timer-wrapper {
        display: flex;
        align-items: flex-start;
        justify-content: center;
        gap: 28px;
    }

    .time-block {
        text-align: center;
    }

    .time {
        font-size: 9.5vw;
        font-weight: bold;
        color: #92D050;
        line-height: 1;
    }

    .colon {
        font-size: 9.5vw;
        font-weight: bold;
        color: #92D050;
        line-height: 1;
    }

    .time-label {
        font-size: 2vw;
        font-weight: normal;
        margin-top: 6px;
        color: #92D050;
    }

    .late .time,
    .late .colon,
    .late .time-label {
        color: #EE0000;
    }

    /* Unified pulse */
    .late {
        animation: pulse 1.5s infinite;
    }

    @keyframes pulse {
        0%   { transform: scale(1); }
        50%  { transform: scale(1.05); }
        100% { transform: scale(1); }
    }

    .logo-triangle {
        position: absolute;
        bottom: 0;
        right: 0;
        width: 22vw;
        height: 15vw;
        background: white;
        clip-path: polygon(100% 0, 100% 100%, 0 100%);
        display: flex;
        align-items: flex-end;
        justify-content: flex-end;
        padding: 30px 30px 20px 30px;
        box-sizing: border-box;
    }

    .logo-triangle img {
        max-width: 8vw;
        height: auto;
        margin-bottom: -0.8vw;
    }
</style>
</head>

<body>

<div class="frame">
    <div class="content">
        <div id="label" class="label">Lesson 3 starts in:</div>

        <div id="timerContainer" class="timer-wrapper">
            <div class="time-block">
                <div id="minutes" class="time">00</div>
                <div class="time-label">Minutes</div>
            </div>

            <div class="colon">:</div>

            <div class="time-block">
                <div id="seconds" class="time">00</div>
                <div class="time-label">Seconds</div>
            </div>
        </div>
    </div>

    <div class="logo-triangle">
        <img src="sua-logo.png" alt="Staffordshire University Academy Logo">
    </div>
</div>

<script>
    const m = document.getElementById("m"),
      s = document.getElementById("s"),
      t = document.getElementById("timer"),
      l = document.getElementById("label");

function getSchedule(now) {
    const d = now.getDay();
    const base = new Date(now);
    let schedule = [];

    if (d >= 1 && d <= 3) { // Mon–Wed
        schedule = [
            { name: "Registration", hour: 8, minute: 30 },
            { name: "Lesson 2", hour: 9, minute: 45 },
            { name: "Lesson 3", hour: 11, minute: 50 },
            { name: "Lesson 4", hour: 12, minute: 50 },
            { name: "Lesson 5", hour: 14, minute: 20 }
        ];
    } 
    else if (d === 4 || d === 5) { // Thu–Fri
        schedule = [
            { name: "Registration", hour: 8, minute: 30 },
            { name: "Lesson 2", hour: 9, minute: 40 },
            { name: "Lesson 3", hour: 11, minute: 0 },
            { name: "Lesson 4", hour: 12, minute: 0 },
            { name: "Lesson 5", hour: 13, minute: 30 }
        ];
    } 
    else {
        return [];
    }

    return schedule.map(item => {
        const time = new Date(base);
        time.setHours(item.hour, item.minute, 0, 0);
        return { ...item, time };
    });
}

function update() {
    const now = new Date();
    const schedule = getSchedule(now);

    if (schedule.length === 0) {
        l.textContent = "No lessons today";
        m.textContent = "00";
        s.textContent = "00";
        t.classList.remove("late");
        return;
    }

    let current = null;
    let beforeStart = false;

    for (let i = 0; i < schedule.length; i++) {
        if (now < schedule[i].time) {
            current = schedule[i];
            beforeStart = true;
            break;
        }
    }

    if (!current) {
        current = schedule[schedule.length - 1];
        beforeStart = false;
    }

    let diff;

    if (beforeStart) {
        diff = current.time - now;
        l.textContent = current.name + " starts in:";
        t.classList.remove("late");
    } else {
        diff = now - current.time;
        l.textContent = current.name + " has started:";
        t.classList.add("late");
    }

    diff = Math.floor(diff / 1000);

    m.textContent = String(Math.floor(diff / 60)).padStart(2, "0");
    s.textContent = String(diff % 60).padStart(2, "0");
}

update();
setInterval(update, 1000);
</script>

</body>

</html>

